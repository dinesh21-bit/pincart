<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pincart</title>

<link id="favicon" rel="icon" href="logo.png">

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins;}

body{
 background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
 color:white;
 min-height:100vh;
}

/* HEADER */
header{
 background:rgba(255,255,255,0.08);
 backdrop-filter:blur(15px);
 padding:15px 40px;
 display:flex;
 justify-content:space-between;
 align-items:center;
 position:sticky;
 top:0;
 z-index:100;
}

header h1{
 display:flex;
 align-items:center;
 font-size:22px;
}

header img{
 width:40px;
 height:40px;
 margin-right:10px;
 border-radius:8px;
}

nav a{
 color:white;
 margin:0 15px;
 text-decoration:none;
 font-weight:500;
 cursor:pointer;
}

nav a:hover{color:#00f2fe;}

button{
 padding:8px 16px;
 border:none;
 border-radius:20px;
 cursor:pointer;
 font-weight:600;
}

#loginBtn{background:#00f2fe;color:black;}
#logoutBtn{background:#ff4b2b;color:white;display:none;}

/* SEARCH */
.search-container{
 margin:20px 0;
 text-align:center;
}

.search-container input{
 width:60%;
 max-width:500px;
 padding:12px 20px;
 border-radius:30px;
 border:none;
 outline:none;
 font-size:15px;
 box-shadow:0 5px 20px rgba(0,0,0,0.3);
}

/* PAGES */
.page{display:none;padding:40px;}
.active{display:block;}

/* PRODUCTS */
.products{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
 gap:30px;
 margin-top:20px;
}

.card{
 background:rgba(255,255,255,0.08);
 backdrop-filter:blur(20px);
 padding:20px;
 border-radius:20px;
 transition:0.3s;
 box-shadow:0 10px 30px rgba(0,0,0,0.3);
}

.card:hover{transform:translateY(-8px);}

.card img{
 width:100%;
 height:200px;
 object-fit:cover;
 border-radius:15px;
 margin-bottom:15px;
}

.card a{
 color:#00f2fe;
 text-decoration:none;
 font-weight:600;
}

.deleteBtn{
 background:#ff4b2b;
 color:white;
 margin-top:10px;
}

/* CATEGORY BOX */
.categoryBox{
 margin-bottom:40px;
}

.categoryBox h3{
 margin-bottom:15px;
 border-bottom:1px solid rgba(255,255,255,0.3);
 padding-bottom:5px;
}

/* ADMIN */
#adminPanel{
 display:none;
 margin:40px;
 padding:30px;
 background:rgba(255,255,255,0.08);
 backdrop-filter:blur(20px);
 border-radius:20px;
}

.adminSection{margin-bottom:30px;}

.adminSection input,
.adminSection textarea,
.adminSection select{
 width:100%;
 padding:10px;
 margin-top:10px;
 border:none;
 border-radius:10px;
 outline:none;
}

.adminSection button{
 margin-top:10px;
 background:#00f2fe;
 color:black;
}

/* ADMIN STATS */
.statsBox{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
 gap:20px;
 margin-bottom:30px;
}

.statCard{
 background:rgba(0,0,0,0.4);
 padding:20px;
 border-radius:15px;
 text-align:center;
 font-size:18px;
}

footer{
 text-align:center;
 padding:20px;
 margin-top:40px;
 background:rgba(0,0,0,0.4);
}
</style>
</head>

<body>

<header>
 <h1>
  <img id="headerLogo" src="logo.png">
  Pincart
 </h1>

 <nav>
   <a onclick="showPage('homePage')">Home</a>
   <a onclick="showPage('categoryPage')">Categories</a>
   <a onclick="showPage('aboutPage')">About</a>
 </nav>

 <div>
  <button id="loginBtn">Login</button>
  <button id="logoutBtn">Logout</button>
 </div>
</header>

<!-- HOME -->
<div id="homePage" class="page active">
 <h2>üî• Trending Products</h2>

 <div class="search-container">
   <input type="text" id="searchInput" placeholder="Search products..." onkeyup="searchProducts()">
 </div>

 <div class="products" id="productList"></div>
</div>

<!-- CATEGORIES -->
<div id="categoryPage" class="page">
 <h2>üìÇ Categories</h2>
 <div id="categoryContainer"></div>
</div>

<!-- ABOUT -->
<div id="aboutPage" class="page">
 <h2>About Pincart</h2>
 <p>Pincart is a multi-category affiliate platform that curates and showcases the most trending and high-demand products across the internet. Our mission is to help users discover smart, useful, and viral products in one place ‚Äî without wasting time searching through multiple websites.

We carefully select products that are currently popular, highly rated, and worth buying. From electronics and fashion to home essentials and lifestyle gadgets, Pincart brings you what‚Äôs hot right now.

Instead of selling products directly, Pincart connects users to trusted marketplaces through affiliate links, ensuring a safe and seamless shopping experience.

At Pincart, we believe in:

üöÄ Trending products only

üí° Smart shopping decisions

üîç Easy product discovery

üìà Constantly updated collections

Pincart is not just a website ‚Äî it‚Äôs your shortcut to what‚Äôs trending.</p>
</div>

<!-- ADMIN -->
<div id="adminPanel">

 <!-- DASHBOARD STATS -->
 <div class="adminSection">
   <h3>Dashboard Stats</h3>
   <div class="statsBox">
     <div class="statCard">Total Products<br><b id="totalProducts">0</b></div>
     <div class="statCard">Total Categories<br><b id="totalCategories">0</b></div>
     <div class="statCard">Total Users<br><b id="totalUsers">0</b></div>
   </div>
 </div>

 <!-- LOGO UPLOAD -->
 <div class="adminSection">
   <h3>Change Website Logo</h3>
   <input type="file" id="logoUpload">
   <button onclick="changeLogo()">Update Logo</button>
 </div>

 <div class="adminSection">
  <h3>Add Category</h3>
  <input type="text" id="categoryName" placeholder="Category Name">
  <button onclick="addCategory()">Add Category</button>
 </div>

 <div class="adminSection">
  <h3>Add Product</h3>
  <input type="text" id="title" placeholder="Title">
  <textarea id="desc" placeholder="Description"></textarea>
  <input type="number" id="price" placeholder="Price">
  <input type="text" id="link" placeholder="Affiliate Link">
  <select id="productCategory"></select>
  <input type="file" id="image">
  <button onclick="addProduct()">Add Product</button>
 </div>

 <div class="adminSection">
  <h3>Add Existing Product To Category</h3>
  <select id="assignProduct"></select>
  <select id="assignCategory"></select>
  <button onclick="assignProductToCategory()">Assign</button>
 </div>

</div>

<footer>
 ¬© 2026 Pincart ‚Äî Affiliate Platform | contact : pincart61@gmail.com
</footer>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, getDoc, updateDoc }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
 apiKey: "AIzaSyDG48UV13XoQ1qtw5xtpnDnSwtmi4MUw84",
 authDomain: "pincart-245f7.firebaseapp.com",
 projectId: "pincart-245f7",
 storageBucket: "pincart-245f7.firebasestorage.app",
 messagingSenderId: "812846953819",
 appId: "1:812846953819:web:5e2eb1b090e62c2367567e"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

let isAdmin=false;
let allProducts=[];
let allCategories=[];

window.changeLogo=function(){
 const file=document.getElementById("logoUpload").files[0];
 if(!file)return;
 const reader=new FileReader();
 reader.onload=function(){
   document.getElementById("headerLogo").src=reader.result;
   document.getElementById("favicon").href=reader.result;
 };
 reader.readAsDataURL(file);
};

async function updateStats(){
 const productsSnap=await getDocs(collection(db,"products"));
 const categoriesSnap=await getDocs(collection(db,"categories"));
 const usersSnap=await getDocs(collection(db,"users"));

 totalProducts.innerText=productsSnap.size;
 totalCategories.innerText=categoriesSnap.size;
 totalUsers.innerText=usersSnap.size;
}

onAuthStateChanged(auth, async(user)=>{
 if(user){
  loginBtn.style.display="none";
  logoutBtn.style.display="inline-block";
  const roleDoc=await getDoc(doc(db,"users",user.uid));
  if(roleDoc.exists() && roleDoc.data().role==="admin"){
   isAdmin=true;
   adminPanel.style.display="block";
   updateStats();
  }
 }else{
  loginBtn.style.display="inline-block";
  logoutBtn.style.display="none";
  adminPanel.style.display="none";
  isAdmin=false;
 }
});

</script>

</body>
</html>

